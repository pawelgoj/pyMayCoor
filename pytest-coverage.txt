============================= test session starts ==============================
platform linux -- Python 3.10.6, pytest-7.2.1, pluggy-1.0.0
rootdir: /home/runner/work/pyMayCoor/pyMayCoor
plugins: cov-4.0.0
collected 53 items

test/test_calculations.py ..................
test/test_calculations_for_atoms_lists.py ................
test/test_end_to_end.py python
FE
test/test_input_data.py .................
test/test_settings.py FE

==================================== ERRORS ====================================
______ ERROR at teardown of TestEndToEnd.test_execute_app_in_cmd[python] _______

request = <SubRequest 'env_for_end_to_end_tests_2' for <Function test_execute_app_in_cmd[python]>>

    @pytest.fixture()
    def env_for_end_to_end_tests_2(request):
        file_name = "test_output.txt"
        yield file_name
>       os.remove(f'./{file_name}')
E       FileNotFoundError: [Errno 2] No such file or directory: './test_output.txt'

test/conftest.py:52: FileNotFoundError
_______________ ERROR at teardown of TestSettings.test_save_data _______________

request = <SubRequest 'env_for_end_to_end_tests_2' for <Function test_save_data>>

    @pytest.fixture()
    def env_for_end_to_end_tests_2(request):
        file_name = "test_output.txt"
        yield file_name
>       os.remove(f'./{file_name}')
E       FileNotFoundError: [Errno 2] No such file or directory: './test_output.txt'

test/conftest.py:52: FileNotFoundError
=================================== FAILURES ===================================
_________________ TestEndToEnd.test_execute_app_in_cmd[python] _________________

self = <test.test_end_to_end.TestEndToEnd object at 0x7f47349c7ca0>
python_command = 'python', env_for_end_to_end_tests_2 = 'test_output.txt'

    @pytest.mark.usefixtures("env_for_end_to_end_tests_2")
    def test_execute_app_in_cmd(self, python_command,
                                env_for_end_to_end_tests_2):
        fn = env_for_end_to_end_tests_2
        print(python_command)
        subprocess.run(
            f'{python_command} ./main/main.py -i ./egzamples_instructions/out1.txt -s ./egzamples_instructions/settings.yaml -o "{fn}"', shell=True)
    
>       with open(fn, 'r', encoding="utf-8") as file:
E       FileNotFoundError: [Errno 2] No such file or directory: 'test_output.txt'

test/test_end_to_end.py:14: FileNotFoundError
_________________________ TestSettings.test_save_data __________________________

self = <test.test_settings.TestSettings object at 0x7f4734a1a410>
env_for_end_to_end_tests_2 = 'test_output.txt'

    @pytest.mark.usefixtures("env_for_end_to_end_tests_2")
    def test_save_data(self, env_for_end_to_end_tests_2):
        data = {'calculations': {
            'covalence': True,
            'bond_length': True,
            'cn': True,
            'connections': True,
            'q_i': {'bond_id': 'P=O', 'calc': True}},
            'histogram': {'calc': True, 'nr_bars': 10},
            'pairs_atoms_list':
                [{
                    'atom_1': 'P',
                    'atom_2': 'O',
                    'id': 'P=O',
                    'mbo_max': 'INF',
                    'mbo_min': 1.2
                },
            {
                    'atom_1': 'P',
                    'atom_2': 'O',
                    'id': 'P-O',
                    'mbo_max': 'INF',
                    'mbo_min': 0.02
                },
            {
                    'atom_1': 'Al',
                    'atom_2': 'O',
                    'id': 'Al-O',
                    'mbo_max': 'INF',
                    'mbo_min': 0.02}]}
        settings = Settings(data)
        settings.save_data(env_for_end_to_end_tests_2)
>       with open(env_for_end_to_end_tests_2, 'r', encoding="utf-8") as file:
E       FileNotFoundError: [Errno 2] No such file or directory: 'test_output.txt'

test/test_settings.py:40: FileNotFoundError
=============================== warnings summary ===============================
test/test_calculations_for_atoms_lists.py:167
  /home/runner/work/pyMayCoor/pyMayCoor/test/test_calculations_for_atoms_lists.py:167: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

test/test_calculations_for_atoms_lists.py:181
  /home/runner/work/pyMayCoor/pyMayCoor/test/test_calculations_for_atoms_lists.py:181: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

main/Settings/settings.py:214
  /home/runner/work/pyMayCoor/pyMayCoor/main/Settings/settings.py:214: DeprecationWarning: invalid escape sequence '\.'
    if re.search('.*\.yaml|.*\.yml', path) is not None:

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
----- generated xml file: /home/runner/work/pyMayCoor/pyMayCoor/pytest.xml -----

---------- coverage: platform linux, python 3.10.6-final-0 -----------
Name                                                                             Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------------------------------------------
main/BondOrderProcessing/bond_order_processing/calculations.py                     352      9    97%   40, 44, 51, 171, 324, 505, 660, 662-663
main/BondOrderProcessing/bond_order_processing/calculations_for_atoms_lists.py     166      3    98%   84-87
main/BondOrderProcessing/bond_order_processing/input_data.py                       422     53    87%   88-100, 122-155, 185-189, 225, 234-238, 306, 319-320, 379-383, 430-441, 478-479, 485, 500, 507, 664, 671, 709, 738, 742, 765, 772, 818, 826, 872, 878, 892, 943, 955
--------------------------------------------------------------------------------------------------------------
TOTAL                                                                              941     65    93%

1 file skipped due to complete coverage.

=========================== short test summary info ============================
FAILED test/test_end_to_end.py::TestEndToEnd::test_execute_app_in_cmd[python] - FileNotFoundError: [Errno 2] No such file or directory: 'test_output.txt'
FAILED test/test_settings.py::TestSettings::test_save_data - FileNotFoundError: [Errno 2] No such file or directory: 'test_output.txt'
ERROR test/test_end_to_end.py::TestEndToEnd::test_execute_app_in_cmd[python] - FileNotFoundError: [Errno 2] No such file or directory: './test_output.txt'
ERROR test/test_settings.py::TestSettings::test_save_data - FileNotFoundError: [Errno 2] No such file or directory: './test_output.txt'
============= 2 failed, 51 passed, 3 warnings, 2 errors in 17.23s ==============
