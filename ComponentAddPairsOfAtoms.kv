#:set label_height dp(20)
#:set spacing_padding dp(0)
#:set position_of_circle dp(20)
#:set radius dp(20)
#:set width_of_line dp(2)

<ComponentAddPairsOfAtoms>:
    height: grid_with_atoms.height + dp(30)
    width: grid_with_atoms.width

    MDWidget:
        pos_hint: {'x': 0, 'top': 1}
        size_hint: None, None
        height: grid_with_atoms.height + dp(10)
        width: grid_with_atoms.width
        canvas.before:
            Color:
                rgba: app.theme_cls.primary_color
            Line:
                width: width_of_line
                points:
                    (self.x, self.y, self.x + self.width - position_of_circle, self.y)
            Line:
                width: width_of_line
                points:
                    (self.x , self.y + self.height, self.x + self.width -position_of_circle, self.y + self.height)
            Line:
                width: width_of_line
                circle:
                    (self.x + self.width - position_of_circle, self.y + radius, radius
                    , 90, 180)
            Line:
                width: width_of_line
                circle:
                    (self.x + self.width - position_of_circle, self.y + self.height - radius, radius
                    , 0, 90)
            Line:
                width: width_of_line
                points:
                    (self.x + self.width, self.y + radius, self.x + self.width
                    , self.y + self.height - radius)

                    
    MDGridLayout:
        row_default_height: label_height
        size_hint_y: None
        height: label_height + text_field.height + spacing_padding + 2 * dp(10)
        id: grid_with_atoms
        pos_hint: {'x': 0, 'top': 1}
        
        padding: ["10dp", "10dp", "10dp", "10dp"]
        spacing: spacing_padding
        cols: 5

        MDLabel:
            adaptive_height: True
            text: "first atom: "
            valign: 'middle'
            theme_text_color: "Custom"
            text_color: app.theme_cls.text_color

        MDLabel:
            adaptive_height: True
            text: "second atom: "
            valign: 'middle'
            theme_text_color: "Custom"
            text_color: app.theme_cls.text_color

        MDLabel:
            adaptive_height: True
            text: "MBO min: "
            valign: 'middle'
            theme_text_color: "Custom"
            text_color: app.theme_cls.text_color

        MDLabel:
            adaptive_height: True
            text: "MBO max: "
            valign: 'middle'
            theme_text_color: "Custom"
            text_color: app.theme_cls.text_color

        MDLabel:
            adaptive_height: True
            text: "ID od bond: "
            valign: 'middle'
            theme_text_color: "Custom"
            text_color: app.theme_cls.text_color

        MDTextField:
            id: text_field
            helper_text: "Eg. P, Fe ..."
            helper_text_mode: "persistent"
            valign: 'middle'
            text_color_normal: app.theme_cls.text_color
            helper_text_color_normal: app.theme_cls.text_color
            hint_text_color_normal: app.theme_cls.text_color
            helper_text_color_focus: "red"
            line_color_normal: app.theme_cls.text_color
            on_focus: app.change_state(self)

        MDTextField:
            helper_text: "Eg. P, Fe ..."
            helper_text_mode: "persistent"
            valign: 'middle'
            text_color_normal: app.theme_cls.text_color
            helper_text_color_normal: app.theme_cls.text_color
            hint_text_color_normal: app.theme_cls.text_color
            helper_text_color_focus: "red"
            line_color_normal: app.theme_cls.text_color
            on_focus: app.change_state(self)

        MDTextField:
            helper_text: "float number"
            helper_text_mode: "persistent"
            valign: 'middle'
            text_color_normal: app.theme_cls.text_color
            helper_text_color_normal: app.theme_cls.text_color
            hint_text_color_normal: app.theme_cls.text_color
            helper_text_color_focus: "red"
            line_color_normal: app.theme_cls.text_color
            on_focus: app.change_state(self)

        MDTextField:
            helper_text: "float number"
            helper_text_mode: "persistent"
            valign: 'middle'
            text_color_normal: app.theme_cls.text_color
            helper_text_color_normal: app.theme_cls.text_color
            hint_text_color_normal: app.theme_cls.text_color
            helper_text_color_focus: "red"
            line_color_normal: app.theme_cls.text_color
            on_focus: app.change_state(self)

        MDTextField:
            adaptive_height: True
            helper_text: "ID eg. '=', 'my bond' ...."
            helper_text_mode: "persistent"
            valign: 'middle'
            text_color_normal: app.theme_cls.text_color
            helper_text_color_normal: app.theme_cls.text_color
            hint_text_color_normal: app.theme_cls.text_color
            helper_text_color_focus: "red"
            line_color_normal: app.theme_cls.text_color
            on_focus: app.change_state(self)
    
    MDFloatingActionButton:
        icon: "plus-thick"
        md_bg_color: app.theme_cls.primary_color
        pos: grid_with_atoms.width * 0.99 - position_of_circle , 0

