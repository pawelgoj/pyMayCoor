#:import componentAddPairsOfAtoms componentAddPairsOfAtoms
#:import componentChoseCalculations componentChoseCalculations
#:import switchButton switchButton
#:import mytextInput mytextInput
#:set paddings_histogram dp(10) 
#:set header_label_paddings [dp(10), dp(10), dp(10), dp(10)]

MainFrameOfApp:

<MainFrameOfApp>:
    MDWidget: 
        pos_hint: {'bottom': 0, 'left': 0}
        MDScrollView:
            height: root.height - bar_of_app.height
            width: root.width
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(10)

            MDStackLayout:
                id: content_in_MDScrollView
                size_hint: None, None
                height: self.minimum_height
                orientation: "lr-tb"
                spacing: "10dp"
                width: root.width if root.width >= dp(767) else dp(767)

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel: 
                        adaptive_height: True
                        text: "Histogram: "
                        font_style: "H5"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                MDGridLayout:
                    size_hint: (None, None)
                    width: content_in_MDScrollView.width
                    adaptive_height: True
                    row_default_height: '40dp'
                    padding: [paddings_histogram, paddings_histogram, self.width * 0.3 , paddings_histogram]
                    cols: 3
                    rows: 1
                    spacing: dp(20)

                    SwithButtonWidget:
                        size_hint_x: None
                        width: dp(80)

                    MDRelativeLayout:
                        height: '40dp'
                        size_hint_x: None
                        width: dp(250)
                        MyTextInput:
                            height: '30dp'
                            pos_hint: {'center_x': .5, 'center_y': .6}
                            hint_text: "Number of bars in hostograms: "
                            helper_text: "int number"
                            helper_text_mode: "persistent"

                    MDFillRoundFlatIconButton:
                        md_bg_color: app.theme_cls.primary_color
                        pos_hint: {'center_x': .5, 'center_y': .6}
                        text: "Calculate/show histograms"
                        icon: "chart-histogram"
                        text_color: "white"

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel:
                        size_hint: (None, None)
                        width: content_in_MDScrollView.width
                        adaptive_height: True
                        valign: 'middle'
                        text: "Enter the pairs of atoms for which the calculations will be performed: "
                        font_style: "H5"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                ComponentAddPairsOfAtoms:
                    size_hint: (None, None)
                    height: self.height 
                    width: content_in_MDScrollView.width * 0.95

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel:
                        size_hint: (None, None)
                        width: content_in_MDScrollView.width
                        adaptive_height: True
                        text: "Chose type of calculations: "
                        font_style: "H5"
                        theme_text_color: "Primary"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                ComponentChoseCalculations:
                    size_hint: (None, None)
                    width: content_in_MDScrollView.width * 0.90
                    height: self.height 
                    padding: [dp(10), dp(10), content_in_MDScrollView.width * 0.3, dp(10)]

                MDGridLayout:
                    adaptive_height: True
                    size_hint: (None, None)
                    width: content_in_MDScrollView.width
                    row_default_height: '30dp'
                    cols: 2
                    padding: [dp(10), dp(10), content_in_MDScrollView.width * 0.4, dp(10)]
                
                MDBoxLayout:
                    size_hint: (None, None)
                    width: content_in_MDScrollView.width * 0.98
                    adaptive_height: True
                    padding: header_label_paddings
                    MDProgressBar:
                        value: 50
                        color: "red"
                        size_hint: 0.5, None 
                        height: "10dp"


    MDRelativeLayout:
        id: bar_of_app
        pos_hint: {'top': 1, 'left': 0}
        elevation: 10
        shadow_offset: 2, 6
        size_hint_y: None
        height: dp(95)
        md_bg_color: app.theme_cls.primary_color
        MDTopAppBar:
            md_bg_color: app.theme_cls.primary_color
            pos_hint: {'top': 1, 'left': 0}
            elevation: 0
            title: "pyMayCoor"
            type_height: 'large'
            right_action_items: [["brightness-4", lambda x: app.switch_theme_style()], ["menu", lambda x: True]]
        MDBoxLayout:
            orientation: 'horizontal'
            MDFillRoundFlatIconButton:
                md_bg_color: app.theme_cls.primary_color
                pos: dp(10), dp(0)
                text: "Find input file"
                icon: "text-box-search-outline"
                text_color: "white"

            MDFillRoundFlatIconButton:
                md_bg_color: app.theme_cls.primary_color
                pos: dp(156), dp(0)
                text: "Save settings"
                icon: "content-save-settings"
                text_color: "white"
            
            MDFillRoundFlatIconButton:
                md_bg_color: app.theme_cls.primary_color
                pos: dp(300), dp(0)
                text: "Load settings"
                icon: "upload"
                text_color: "white"
            MDFillRoundFlatIconButton:
                md_bg_color: app.theme_cls.primary_color
                text: "Chose output file directory"
                icon: "download"
                text_color: "white"
            MDFillRoundFlatIconButton:
                md_bg_color: app.theme_cls.primary_color
                text: "Run program"
                icon: "reload"
                text_color: "white"