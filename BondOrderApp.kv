#:import componentAddPairsOfAtoms componentAddPairsOfAtoms
#:import componentChoseCalculations componentChoseCalculations
#:import switchButton switchButton
#:import mytextInput mytextInput
#:set paddings_histogram dp(10) 
#:set header_label_paddings [dp(10), dp(10), dp(10), dp(10)]

MainFrameOfApp:

<MainFrameOfApp>:
    MDWidget: 
        pos_hint: {'bottom': 0, 'left': 0}
        MDScrollView:
            height: root.height - bar_of_app.height
            width: root.width
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(10)

            MDStackLayout:
                size_hint: 1, None
                height: self.minimum_height
                orientation: "lr-tb"
                spacing: "10dp"

                RelativeLayout:
                    size_hint: (None, None)
                    height: dp(60)
                    width: root.width

                    MDFillRoundFlatIconButton:
                        md_bg_color: app.theme_cls.primary_color
                        pos: dp(10), dp(0)
                        text: "Find input file"
                        icon: "text-box-search-outline"
                        text_color: "white"

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel: 
                        adaptive_height: True
                        text: "Histogram: "
                        font_style: "H5"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                MDGridLayout:
                    size_hint: (None, None)
                    width: root.width
                    adaptive_height: True
                    row_default_height: '40dp'
                    padding: [paddings_histogram, paddings_histogram, self.width * 0.6 , paddings_histogram]
                    cols: 2
                    rows: 1

                    SwithButtonWidget:

                    MDRelativeLayout:
                        height: '40dp'
                        MyTextInput:
                            height: '30dp'
                            pos_hint: {'center_x': .5, 'center_y': .6}
                            hint_text: "Number of bars in hostograms: "
                            helper_text: "int number"
                            helper_text_mode: "persistent"

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel:
                        size_hint: (None, None)
                        width: root.width
                        adaptive_height: True
                        valign: 'middle'
                        text: "Enter the pairs of atoms for which the calculations will be performed: "
                        font_style: "H5"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                ComponentAddPairsOfAtoms:
                    size_hint: (None, None)
                    height: self.height 
                    width: root.width * 0.95

                MDBoxLayout:
                    adaptive_height: True
                    padding: header_label_paddings
                    MDLabel:
                        size_hint: (None, None)
                        width: root.width
                        adaptive_height: True
                        text: "Chose type of calculations: "
                        font_style: "H5"
                        theme_text_color: "Primary"
                        theme_text_color: "Custom"
                        text_color: app.theme_cls.primary_color

                ComponentChoseCalculations:
                    size_hint: (None, None)
                    width: root.width * 0.90
                    height: self.height 
                    padding: [dp(10), dp(10), root.width * 0.3, dp(10)]

                MDGridLayout:
                    adaptive_height: True
                    size_hint: (None, None)
                    width: root.width
                    row_default_height: '30dp'
                    cols: 2
                    padding: [dp(10), dp(10), root.width * 0.4, dp(10)]

                    RelativeLayout:
                        MDFillRoundFlatIconButton:
                            md_bg_color: app.theme_cls.primary_color
                            text: "Chose output file directory"
                            icon: "download"
                            text_color: "white"
                    
                    RelativeLayout:
                        MDFillRoundFlatIconButton:
                            md_bg_color: app.theme_cls.primary_color
                            text: "Run program"
                            icon: "reload"
                            text_color: "white"
                
                MDBoxLayout:
                    size_hint: (None, None)
                    width: root.width * 0.98
                    adaptive_height: True
                    padding: header_label_paddings
                    MDProgressBar:
                        value: 50
                        color: "red"
                        size_hint: 0.5, None 
                        height: "10dp"

    MDTopAppBar:
        id: bar_of_app
        pos_hint: {'top': 1, 'left': 0}
        adaptive_height: True
        title: "MDTopAppBar"
        right_action_items: [["brightness-4", lambda x: app.switch_theme_style()], ["menu", lambda x: True]]